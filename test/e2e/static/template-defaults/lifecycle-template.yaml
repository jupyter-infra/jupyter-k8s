apiVersion: workspace.jupyter.org/v1alpha1
kind: WorkspaceTemplate
metadata:
  name: lifecycle-template
  namespace: jupyter-k8s-shared
spec:
  displayName: "Lifecycle Template"
  defaultImage: jk8s-application-jupyter-uv:latest
  defaultLifecycle:
    postStart:
      exec:
        command: ["/bin/sh", "-c", "echo started"]
  defaultIdleShutdown:
    enabled: true
    idleTimeoutInMinutes: 30
    detection:
      httpGet:
        path: "/api/status"
        port: 8888
  resourceBounds:
    resources:
      cpu:
        min: "100m"
        max: "2"
      memory:
        min: "128Mi"
        max: "4Gi"
